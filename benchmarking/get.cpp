#include <tuple>
#include <array>
#include <utility>
#include <algorithm>

#include "nass/group.hpp"

#include <benchmark/benchmark.h>

template <size_t... Idxs>
static auto make_group(std::index_sequence<Idxs...>)
{
	return nass::make_value_group((Idxs, rand())...);
}

template <size_t... Idxs>
static auto make_tuple(std::index_sequence<Idxs...>)
{
	
	return std::make_tuple((Idxs, rand())...);
}

static volatile int dummy = 0;

static auto MB_group_get(auto& bstate)
{  
	auto testee = make_group(std::make_index_sequence<300>());
	
	for (auto b: bstate)
	{
		dummy = testee.get<282>();
		dummy = testee.get<296>();
		dummy = testee.get<42>();
		dummy = testee.get<58>();
		dummy = testee.get<153>();
		dummy = testee.get<66>();
		dummy = testee.get<143>();
		dummy = testee.get<86>();
		dummy = testee.get<280>();
		dummy = testee.get<90>();
		dummy = testee.get<209>();
		dummy = testee.get<269>();
		dummy = testee.get<129>();
		dummy = testee.get<172>();
		dummy = testee.get<122>();
		dummy = testee.get<200>();
		dummy = testee.get<150>();
		dummy = testee.get<214>();
		dummy = testee.get<78>();
		dummy = testee.get<15>();
		dummy = testee.get<159>();
		dummy = testee.get<49>();
		dummy = testee.get<145>();
		dummy = testee.get<193>();
		dummy = testee.get<228>();
		dummy = testee.get<299>();
		dummy = testee.get<125>();
		dummy = testee.get<23>();
		dummy = testee.get<293>();
		dummy = testee.get<28>();
		dummy = testee.get<36>();
		dummy = testee.get<199>();
		dummy = testee.get<92>();
		dummy = testee.get<132>();
		dummy = testee.get<221>();
		dummy = testee.get<112>();
		dummy = testee.get<246>();
		dummy = testee.get<110>();
		dummy = testee.get<30>();
		dummy = testee.get<194>();
		dummy = testee.get<157>();
		dummy = testee.get<230>();
		dummy = testee.get<47>();
		dummy = testee.get<162>();
		dummy = testee.get<196>();
		dummy = testee.get<298>();
		dummy = testee.get<44>();
		dummy = testee.get<118>();
		dummy = testee.get<179>();
		dummy = testee.get<242>();
		dummy = testee.get<61>();
		dummy = testee.get<71>();
		dummy = testee.get<84>();
		dummy = testee.get<234>();
		dummy = testee.get<253>();
		dummy = testee.get<99>();
		dummy = testee.get<156>();
		dummy = testee.get<139>();
		dummy = testee.get<227>();
		dummy = testee.get<279>();
		dummy = testee.get<238>();
		dummy = testee.get<285>();
		dummy = testee.get<91>();
		dummy = testee.get<277>();
		dummy = testee.get<252>();
		dummy = testee.get<35>();
		dummy = testee.get<155>();
		dummy = testee.get<248>();
		dummy = testee.get<222>();
		dummy = testee.get<87>();
		dummy = testee.get<76>();
		dummy = testee.get<89>();
		dummy = testee.get<104>();
		dummy = testee.get<21>();
		dummy = testee.get<111>();
		dummy = testee.get<96>();
		dummy = testee.get<102>();
		dummy = testee.get<245>();
		dummy = testee.get<213>();
		dummy = testee.get<65>();
		dummy = testee.get<135>();
		dummy = testee.get<250>();
		dummy = testee.get<24>();
		dummy = testee.get<161>();
		dummy = testee.get<275>();
		dummy = testee.get<85>();
		dummy = testee.get<7>();
		dummy = testee.get<206>();
		dummy = testee.get<191>();
		dummy = testee.get<107>();
		dummy = testee.get<211>();
		dummy = testee.get<19>();
		dummy = testee.get<93>();
		dummy = testee.get<254>();
		dummy = testee.get<203>();
		dummy = testee.get<136>();
		dummy = testee.get<225>();
		dummy = testee.get<160>();
		dummy = testee.get<177>();
		dummy = testee.get<117>();
		dummy = testee.get<291>();
		dummy = testee.get<27>();
		dummy = testee.get<208>();
		dummy = testee.get<11>();
		dummy = testee.get<14>();
		dummy = testee.get<236>();
		dummy = testee.get<151>();
		dummy = testee.get<166>();
		dummy = testee.get<240>();
		dummy = testee.get<6>();
		dummy = testee.get<184>();
		dummy = testee.get<18>();
		dummy = testee.get<126>();
		dummy = testee.get<63>();
		dummy = testee.get<197>();
		dummy = testee.get<295>();
		dummy = testee.get<220>();
		dummy = testee.get<54>();
		dummy = testee.get<29>();
		dummy = testee.get<165>();
		dummy = testee.get<265>();
		dummy = testee.get<38>();
		dummy = testee.get<4>();
		dummy = testee.get<8>();
		dummy = testee.get<255>();
		dummy = testee.get<267>();
		dummy = testee.get<67>();
		dummy = testee.get<17>();
		dummy = testee.get<241>();
		dummy = testee.get<287>();
		dummy = testee.get<83>();
		dummy = testee.get<113>();
		dummy = testee.get<140>();
		dummy = testee.get<223>();
		dummy = testee.get<185>();
		dummy = testee.get<259>();
		dummy = testee.get<217>();
		dummy = testee.get<141>();
		dummy = testee.get<294>();
		dummy = testee.get<215>();
		dummy = testee.get<210>();
		dummy = testee.get<278>();
		dummy = testee.get<142>();
		dummy = testee.get<257>();
		dummy = testee.get<72>();
		dummy = testee.get<261>();
		dummy = testee.get<9>();
		dummy = testee.get<270>();
		dummy = testee.get<100>();
		dummy = testee.get<251>();
		dummy = testee.get<198>();
		dummy = testee.get<95>();
		dummy = testee.get<147>();
		dummy = testee.get<16>();
		dummy = testee.get<212>();
		dummy = testee.get<53>();
		dummy = testee.get<124>();
		dummy = testee.get<205>();
		dummy = testee.get<297>();
		dummy = testee.get<75>();
		dummy = testee.get<204>();
		dummy = testee.get<128>();
		dummy = testee.get<22>();
		dummy = testee.get<103>();
		dummy = testee.get<190>();
		dummy = testee.get<224>();
		dummy = testee.get<13>();
		dummy = testee.get<288>();
		dummy = testee.get<1>();
		dummy = testee.get<268>();
		dummy = testee.get<108>();
		dummy = testee.get<2>();
		dummy = testee.get<32>();
		dummy = testee.get<51>();
		dummy = testee.get<164>();
		dummy = testee.get<243>();
		dummy = testee.get<182>();
		dummy = testee.get<231>();
		dummy = testee.get<121>();
		dummy = testee.get<260>();
		dummy = testee.get<64>();
		dummy = testee.get<163>();
		dummy = testee.get<247>();
		dummy = testee.get<25>();
		dummy = testee.get<281>();
		dummy = testee.get<201>();
		dummy = testee.get<0>();
		dummy = testee.get<226>();
		dummy = testee.get<131>();
		dummy = testee.get<48>();
		dummy = testee.get<186>();
		dummy = testee.get<127>();
		dummy = testee.get<94>();
		dummy = testee.get<39>();
		dummy = testee.get<256>();
		dummy = testee.get<229>();
		dummy = testee.get<56>();
		dummy = testee.get<62>();
		dummy = testee.get<45>();
		dummy = testee.get<101>();
		dummy = testee.get<170>();
		dummy = testee.get<26>();
		dummy = testee.get<79>();
		dummy = testee.get<31>();
		dummy = testee.get<264>();
		dummy = testee.get<138>();
		dummy = testee.get<207>();
		dummy = testee.get<233>();
		dummy = testee.get<263>();
		dummy = testee.get<175>();
		dummy = testee.get<171>();
		dummy = testee.get<34>();
		dummy = testee.get<152>();
		dummy = testee.get<50>();
		dummy = testee.get<133>();
		dummy = testee.get<137>();
		dummy = testee.get<168>();
		dummy = testee.get<5>();
		dummy = testee.get<183>();
		dummy = testee.get<176>();
		dummy = testee.get<68>();
		dummy = testee.get<43>();
		dummy = testee.get<232>();
		dummy = testee.get<187>();
		dummy = testee.get<195>();
		dummy = testee.get<10>();
		dummy = testee.get<60>();
		dummy = testee.get<88>();
		dummy = testee.get<146>();
		dummy = testee.get<276>();
		dummy = testee.get<237>();
		dummy = testee.get<189>();
		dummy = testee.get<202>();
		dummy = testee.get<284>();
		dummy = testee.get<249>();
		dummy = testee.get<148>();
		dummy = testee.get<218>();
		dummy = testee.get<167>();
		dummy = testee.get<98>();
		dummy = testee.get<57>();
		dummy = testee.get<77>();
		dummy = testee.get<289>();
		dummy = testee.get<105>();
		dummy = testee.get<80>();
		dummy = testee.get<73>();
		dummy = testee.get<180>();
		dummy = testee.get<69>();
		dummy = testee.get<216>();
		dummy = testee.get<33>();
		dummy = testee.get<244>();
		dummy = testee.get<174>();
		dummy = testee.get<169>();
		dummy = testee.get<20>();
		dummy = testee.get<173>();
		dummy = testee.get<81>();
		dummy = testee.get<106>();
		dummy = testee.get<82>();
		dummy = testee.get<3>();
		dummy = testee.get<181>();
		dummy = testee.get<178>();
		dummy = testee.get<290>();
		dummy = testee.get<109>();
		dummy = testee.get<292>();
		dummy = testee.get<114>();
		dummy = testee.get<144>();
		dummy = testee.get<37>();
		dummy = testee.get<12>();
		dummy = testee.get<70>();
		dummy = testee.get<40>();
		dummy = testee.get<123>();
		dummy = testee.get<52>();
		dummy = testee.get<219>();
		dummy = testee.get<158>();
		dummy = testee.get<258>();
		dummy = testee.get<130>();
		dummy = testee.get<271>();
		dummy = testee.get<97>();
		dummy = testee.get<116>();
		dummy = testee.get<154>();
		dummy = testee.get<266>();
		dummy = testee.get<134>();
		dummy = testee.get<274>();
		dummy = testee.get<235>();
		dummy = testee.get<262>();
		dummy = testee.get<41>();
		dummy = testee.get<149>();
		dummy = testee.get<55>();
		dummy = testee.get<119>();
		dummy = testee.get<239>();
		dummy = testee.get<273>();
		dummy = testee.get<188>();
		dummy = testee.get<272>();
		dummy = testee.get<192>();
		dummy = testee.get<120>();
		dummy = testee.get<286>();
		dummy = testee.get<283>();
		dummy = testee.get<59>();
		dummy = testee.get<115>();
		dummy = testee.get<46>();
		dummy = testee.get<74>();
	}
}
BENCHMARK(MB_group_get);

static auto MB_tuple_get(auto& bstate)
{  
	auto testee = make_tuple(std::make_index_sequence<300>());
	
	for (auto b: bstate)
	{
		dummy = std::get<282>(testee);
		dummy = std::get<296>(testee);
		dummy = std::get<42>(testee);
		dummy = std::get<58>(testee);
		dummy = std::get<153>(testee);
		dummy = std::get<66>(testee);
		dummy = std::get<143>(testee);
		dummy = std::get<86>(testee);
		dummy = std::get<280>(testee);
		dummy = std::get<90>(testee);
		dummy = std::get<209>(testee);
		dummy = std::get<269>(testee);
		dummy = std::get<129>(testee);
		dummy = std::get<172>(testee);
		dummy = std::get<122>(testee);
		dummy = std::get<200>(testee);
		dummy = std::get<150>(testee);
		dummy = std::get<214>(testee);
		dummy = std::get<78>(testee);
		dummy = std::get<15>(testee);
		dummy = std::get<159>(testee);
		dummy = std::get<49>(testee);
		dummy = std::get<145>(testee);
		dummy = std::get<193>(testee);
		dummy = std::get<228>(testee);
		dummy = std::get<299>(testee);
		dummy = std::get<125>(testee);
		dummy = std::get<23>(testee);
		dummy = std::get<293>(testee);
		dummy = std::get<28>(testee);
		dummy = std::get<36>(testee);
		dummy = std::get<199>(testee);
		dummy = std::get<92>(testee);
		dummy = std::get<132>(testee);
		dummy = std::get<221>(testee);
		dummy = std::get<112>(testee);
		dummy = std::get<246>(testee);
		dummy = std::get<110>(testee);
		dummy = std::get<30>(testee);
		dummy = std::get<194>(testee);
		dummy = std::get<157>(testee);
		dummy = std::get<230>(testee);
		dummy = std::get<47>(testee);
		dummy = std::get<162>(testee);
		dummy = std::get<196>(testee);
		dummy = std::get<298>(testee);
		dummy = std::get<44>(testee);
		dummy = std::get<118>(testee);
		dummy = std::get<179>(testee);
		dummy = std::get<242>(testee);
		dummy = std::get<61>(testee);
		dummy = std::get<71>(testee);
		dummy = std::get<84>(testee);
		dummy = std::get<234>(testee);
		dummy = std::get<253>(testee);
		dummy = std::get<99>(testee);
		dummy = std::get<156>(testee);
		dummy = std::get<139>(testee);
		dummy = std::get<227>(testee);
		dummy = std::get<279>(testee);
		dummy = std::get<238>(testee);
		dummy = std::get<285>(testee);
		dummy = std::get<91>(testee);
		dummy = std::get<277>(testee);
		dummy = std::get<252>(testee);
		dummy = std::get<35>(testee);
		dummy = std::get<155>(testee);
		dummy = std::get<248>(testee);
		dummy = std::get<222>(testee);
		dummy = std::get<87>(testee);
		dummy = std::get<76>(testee);
		dummy = std::get<89>(testee);
		dummy = std::get<104>(testee);
		dummy = std::get<21>(testee);
		dummy = std::get<111>(testee);
		dummy = std::get<96>(testee);
		dummy = std::get<102>(testee);
		dummy = std::get<245>(testee);
		dummy = std::get<213>(testee);
		dummy = std::get<65>(testee);
		dummy = std::get<135>(testee);
		dummy = std::get<250>(testee);
		dummy = std::get<24>(testee);
		dummy = std::get<161>(testee);
		dummy = std::get<275>(testee);
		dummy = std::get<85>(testee);
		dummy = std::get<7>(testee);
		dummy = std::get<206>(testee);
		dummy = std::get<191>(testee);
		dummy = std::get<107>(testee);
		dummy = std::get<211>(testee);
		dummy = std::get<19>(testee);
		dummy = std::get<93>(testee);
		dummy = std::get<254>(testee);
		dummy = std::get<203>(testee);
		dummy = std::get<136>(testee);
		dummy = std::get<225>(testee);
		dummy = std::get<160>(testee);
		dummy = std::get<177>(testee);
		dummy = std::get<117>(testee);
		dummy = std::get<291>(testee);
		dummy = std::get<27>(testee);
		dummy = std::get<208>(testee);
		dummy = std::get<11>(testee);
		dummy = std::get<14>(testee);
		dummy = std::get<236>(testee);
		dummy = std::get<151>(testee);
		dummy = std::get<166>(testee);
		dummy = std::get<240>(testee);
		dummy = std::get<6>(testee);
		dummy = std::get<184>(testee);
		dummy = std::get<18>(testee);
		dummy = std::get<126>(testee);
		dummy = std::get<63>(testee);
		dummy = std::get<197>(testee);
		dummy = std::get<295>(testee);
		dummy = std::get<220>(testee);
		dummy = std::get<54>(testee);
		dummy = std::get<29>(testee);
		dummy = std::get<165>(testee);
		dummy = std::get<265>(testee);
		dummy = std::get<38>(testee);
		dummy = std::get<4>(testee);
		dummy = std::get<8>(testee);
		dummy = std::get<255>(testee);
		dummy = std::get<267>(testee);
		dummy = std::get<67>(testee);
		dummy = std::get<17>(testee);
		dummy = std::get<241>(testee);
		dummy = std::get<287>(testee);
		dummy = std::get<83>(testee);
		dummy = std::get<113>(testee);
		dummy = std::get<140>(testee);
		dummy = std::get<223>(testee);
		dummy = std::get<185>(testee);
		dummy = std::get<259>(testee);
		dummy = std::get<217>(testee);
		dummy = std::get<141>(testee);
		dummy = std::get<294>(testee);
		dummy = std::get<215>(testee);
		dummy = std::get<210>(testee);
		dummy = std::get<278>(testee);
		dummy = std::get<142>(testee);
		dummy = std::get<257>(testee);
		dummy = std::get<72>(testee);
		dummy = std::get<261>(testee);
		dummy = std::get<9>(testee);
		dummy = std::get<270>(testee);
		dummy = std::get<100>(testee);
		dummy = std::get<251>(testee);
		dummy = std::get<198>(testee);
		dummy = std::get<95>(testee);
		dummy = std::get<147>(testee);
		dummy = std::get<16>(testee);
		dummy = std::get<212>(testee);
		dummy = std::get<53>(testee);
		dummy = std::get<124>(testee);
		dummy = std::get<205>(testee);
		dummy = std::get<297>(testee);
		dummy = std::get<75>(testee);
		dummy = std::get<204>(testee);
		dummy = std::get<128>(testee);
		dummy = std::get<22>(testee);
		dummy = std::get<103>(testee);
		dummy = std::get<190>(testee);
		dummy = std::get<224>(testee);
		dummy = std::get<13>(testee);
		dummy = std::get<288>(testee);
		dummy = std::get<1>(testee);
		dummy = std::get<268>(testee);
		dummy = std::get<108>(testee);
		dummy = std::get<2>(testee);
		dummy = std::get<32>(testee);
		dummy = std::get<51>(testee);
		dummy = std::get<164>(testee);
		dummy = std::get<243>(testee);
		dummy = std::get<182>(testee);
		dummy = std::get<231>(testee);
		dummy = std::get<121>(testee);
		dummy = std::get<260>(testee);
		dummy = std::get<64>(testee);
		dummy = std::get<163>(testee);
		dummy = std::get<247>(testee);
		dummy = std::get<25>(testee);
		dummy = std::get<281>(testee);
		dummy = std::get<201>(testee);
		dummy = std::get<0>(testee);
		dummy = std::get<226>(testee);
		dummy = std::get<131>(testee);
		dummy = std::get<48>(testee);
		dummy = std::get<186>(testee);
		dummy = std::get<127>(testee);
		dummy = std::get<94>(testee);
		dummy = std::get<39>(testee);
		dummy = std::get<256>(testee);
		dummy = std::get<229>(testee);
		dummy = std::get<56>(testee);
		dummy = std::get<62>(testee);
		dummy = std::get<45>(testee);
		dummy = std::get<101>(testee);
		dummy = std::get<170>(testee);
		dummy = std::get<26>(testee);
		dummy = std::get<79>(testee);
		dummy = std::get<31>(testee);
		dummy = std::get<264>(testee);
		dummy = std::get<138>(testee);
		dummy = std::get<207>(testee);
		dummy = std::get<233>(testee);
		dummy = std::get<263>(testee);
		dummy = std::get<175>(testee);
		dummy = std::get<171>(testee);
		dummy = std::get<34>(testee);
		dummy = std::get<152>(testee);
		dummy = std::get<50>(testee);
		dummy = std::get<133>(testee);
		dummy = std::get<137>(testee);
		dummy = std::get<168>(testee);
		dummy = std::get<5>(testee);
		dummy = std::get<183>(testee);
		dummy = std::get<176>(testee);
		dummy = std::get<68>(testee);
		dummy = std::get<43>(testee);
		dummy = std::get<232>(testee);
		dummy = std::get<187>(testee);
		dummy = std::get<195>(testee);
		dummy = std::get<10>(testee);
		dummy = std::get<60>(testee);
		dummy = std::get<88>(testee);
		dummy = std::get<146>(testee);
		dummy = std::get<276>(testee);
		dummy = std::get<237>(testee);
		dummy = std::get<189>(testee);
		dummy = std::get<202>(testee);
		dummy = std::get<284>(testee);
		dummy = std::get<249>(testee);
		dummy = std::get<148>(testee);
		dummy = std::get<218>(testee);
		dummy = std::get<167>(testee);
		dummy = std::get<98>(testee);
		dummy = std::get<57>(testee);
		dummy = std::get<77>(testee);
		dummy = std::get<289>(testee);
		dummy = std::get<105>(testee);
		dummy = std::get<80>(testee);
		dummy = std::get<73>(testee);
		dummy = std::get<180>(testee);
		dummy = std::get<69>(testee);
		dummy = std::get<216>(testee);
		dummy = std::get<33>(testee);
		dummy = std::get<244>(testee);
		dummy = std::get<174>(testee);
		dummy = std::get<169>(testee);
		dummy = std::get<20>(testee);
		dummy = std::get<173>(testee);
		dummy = std::get<81>(testee);
		dummy = std::get<106>(testee);
		dummy = std::get<82>(testee);
		dummy = std::get<3>(testee);
		dummy = std::get<181>(testee);
		dummy = std::get<178>(testee);
		dummy = std::get<290>(testee);
		dummy = std::get<109>(testee);
		dummy = std::get<292>(testee);
		dummy = std::get<114>(testee);
		dummy = std::get<144>(testee);
		dummy = std::get<37>(testee);
		dummy = std::get<12>(testee);
		dummy = std::get<70>(testee);
		dummy = std::get<40>(testee);
		dummy = std::get<123>(testee);
		dummy = std::get<52>(testee);
		dummy = std::get<219>(testee);
		dummy = std::get<158>(testee);
		dummy = std::get<258>(testee);
		dummy = std::get<130>(testee);
		dummy = std::get<271>(testee);
		dummy = std::get<97>(testee);
		dummy = std::get<116>(testee);
		dummy = std::get<154>(testee);
		dummy = std::get<266>(testee);
		dummy = std::get<134>(testee);
		dummy = std::get<274>(testee);
		dummy = std::get<235>(testee);
		dummy = std::get<262>(testee);
		dummy = std::get<41>(testee);
		dummy = std::get<149>(testee);
		dummy = std::get<55>(testee);
		dummy = std::get<119>(testee);
		dummy = std::get<239>(testee);
		dummy = std::get<273>(testee);
		dummy = std::get<188>(testee);
		dummy = std::get<272>(testee);
		dummy = std::get<192>(testee);
		dummy = std::get<120>(testee);
		dummy = std::get<286>(testee);
		dummy = std::get<283>(testee);
		dummy = std::get<59>(testee);
		dummy = std::get<115>(testee);
		dummy = std::get<46>(testee);
		dummy = std::get<74>(testee);
	}
}
BENCHMARK(MB_tuple_get);